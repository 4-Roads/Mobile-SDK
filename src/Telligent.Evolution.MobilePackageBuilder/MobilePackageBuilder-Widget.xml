<scriptedContentFragments><scriptedContentFragment name="Mobile Package Builder" version="8.0.0.1" description="Enables the creation of native mobile build packages in" instanceIdentifier="330bf0024e75471e80208de4583786bd" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="true" cssClass="upload-edit-media-gallery-post"><contentScript>&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
    &lt;ul class="field-list"&gt;
        &lt;li class="field-item company"&gt;
            &lt;label for="$core_v2_widget.UniqueId('company')" class="field-item-name field-item-header"&gt;Company name&lt;/label&gt;
            &lt;span class="field-item-description"&gt;The name of the author of this app.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('company')" name="$core_v2_widget.UniqueId('company')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item url"&gt;
            &lt;label for="$core_v2_widget.UniqueId('url')" class="field-item-name field-item-header"&gt;Company URL&lt;/label&gt;
            &lt;span class="field-item-description"&gt;The URL of the web site of the author of this app.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('url')" name="$core_v2_widget.UniqueId('url')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item email"&gt;
            &lt;label for="$core_v2_widget.UniqueId('email')" class="field-item-name field-item-header"&gt;Company email address&lt;/label&gt;
            &lt;span class="field-item-description"&gt;The contact email address for the author of this app.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('email')" name="$core_v2_widget.UniqueId('email')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item id"&gt;
            &lt;label for="$core_v2_widget.UniqueId('id')" class="field-item-name field-item-header"&gt;Application identifier&lt;/label&gt;
            &lt;span class="field-item-description"&gt;The application identifier is a value that you determine that should follow the reverse-domain format, for example: com.example.appname&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('id')" name="$core_v2_widget.UniqueId('id')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item name"&gt;
            &lt;label for="$core_v2_widget.UniqueId('name')" class="field-item-name field-item-header"&gt;Application name&lt;/label&gt;
            &lt;span class="field-item-description"&gt;This is the name that will be shown in app lists on devices and in stores.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('name')" name="$core_v2_widget.UniqueId('name')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item description"&gt;
            &lt;label for="$core_v2_widget.UniqueId('description')" class="field-item-name field-item-header"&gt;Application description&lt;/label&gt;
            &lt;span class="field-item-description"&gt;This brief description will be used to describe the app.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('description')" name="$core_v2_widget.UniqueId('description')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item mobileurl"&gt;
            &lt;label for="$core_v2_widget.UniqueId('mobileurl')" class="field-item-name field-item-header"&gt;Mobile web application root URL&lt;/label&gt;
            &lt;span class="field-item-description"&gt;The full root URL of the installation of the mobile server components.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('mobileurl')" name="$core_v2_widget.UniqueId('mobileurl')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item icon"&gt;
            &lt;label for="$core_v2_widget.UniqueId('icon')" class="field-item-name field-item-header"&gt;Application icon&lt;/label&gt;&lt;/label&gt;
            &lt;span class="field-item-description"&gt;The source image to use to generate required icon variations. A 144x144 pixel image or larger is recommended.&lt;/span&gt;
            &lt;span class="field-item-input" id="$core_v2_widget.UniqueId('icon')"&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item splashscreen"&gt;
            &lt;label for="$core_v2_widget.UniqueId('icon')" class="field-item-name field-item-header"&gt;Application splashscreen&lt;/label&gt;
            &lt;span class="field-item-description"&gt;The source image to use to generate required splashscreen variations. A 2048x2048 pixel image or larger is recommended. Note that the image will be resized and cropped to generate the required variations.&lt;/span&gt;
            &lt;span class="field-item-input" id="$core_v2_widget.UniqueId('splashscreen')"&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item urlscheme"&gt;
            &lt;label for="$core_v2_widget.UniqueId('urlscheme')" class="field-item-name field-item-header"&gt;Custom URL Scheme&lt;/label&gt;
            &lt;span class="field-item-description"&gt;When communicating between apps on a device, this scheme will be used as a prefix for communication with this app. It must contain only letters (no spaces, punctuation, etc) and must be unique and match the value of the mobile server components' configuration. The application identifier without punctuation is recommended.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('urlscheme')" name="$core_v2_widget.UniqueId('urlscheme')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item androidappid"&gt;
            &lt;label for="$core_v2_widget.UniqueId('androidappid')" class="field-item-name field-item-header"&gt;Android application sender identifier&lt;/label&gt;
            &lt;span class="field-item-description"&gt;When enabling push notifications through Android devices, this should be set to the 'Sender ID' provided by Google.&lt;/span&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="text" id="$core_v2_widget.UniqueId('androidappid')" name="$core_v2_widget.UniqueId('androidappid')" /&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item statustextisdark"&gt;
            &lt;span class="field-item-input"&gt;
                &lt;input type="checkbox" id="$core_v2_widget.UniqueId('statustextisdark')" /&gt;
                &lt;label for="$core_v2_widget.UniqueId('statustextisdark')"&gt;iOS status bar text should be dark&lt;/label&gt;
            &lt;/span&gt;
            &lt;span class="field-item-description"&gt;For iOS, this controls the color of the status bar text (connection, time, and battery information) over the header of the app. If checked, the text will be black. If unchecked, the text will be white.&lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item"&gt;
            &lt;span class="field-item-input"&gt;
                &lt;a href="#" class="button internal-link save-post" id="$core_v2_widget.UniqueId('submit')"&gt;&lt;span&gt;&lt;/span&gt;Download Package&lt;/a&gt;
                &lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
            &lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#set($uploadContextId = $core_v2_uploadedFile.CreateContextId())
#registerEndOfPageHtml('telligent.evolution.widgets.mobilePackageBuilder')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.mobilePackageBuilder.register({
				wrapperId : '$core_v2_widget.WrapperElementId',
				package_id : jQuery('#$core_v2_widget.UniqueId('id')'),
				package_name : jQuery('#$core_v2_widget.UniqueId('name')'),
				package_description : jQuery('#$core_v2_widget.UniqueId('description')'),
				package_company : jQuery('#$core_v2_widget.UniqueId('company')'),
				package_url : jQuery('#$core_v2_widget.UniqueId('url')'),
				package_email : jQuery('#$core_v2_widget.UniqueId('email')'),
				package_urlscheme: jQuery('#$core_v2_widget.UniqueId('urlscheme')'),
				package_androidappid : jQuery('#$core_v2_widget.UniqueId('androidappid')'),
				package_mobileurl : jQuery('#$core_v2_widget.UniqueId('mobileurl')'),
				package_statustextisdark : jQuery('#$core_v2_widget.UniqueId('statustextisdark')'),
				package_icon : jQuery('#$core_v2_widget.UniqueId('icon')'),
				package_splashscreen : jQuery('#$core_v2_widget.UniqueId('splashscreen')'),
				submit : jQuery('#$core_v2_widget.UniqueId('submit')'),
				uploadFileUrl : '$core_v2_encoding.JavascriptEncode($core_v2_uploadedFile.GetUploadUrl($uploadContextId))',
				uploadContextId : '$core_v2_encoding.JavascriptEncode($uploadContextId)',
				createUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('build.vm'))'
			});
		});
	&lt;/script&gt;
#end</contentScript><files><file name="build.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCiAgICAjc2V0KCRpZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdpZCcpKQ0KICAgICNzZXQoJG5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnbmFtZScpKQ0KICAgICNzZXQoJGRlc2NyaXB0aW9uID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2Rlc2NyaXB0aW9uJykpDQogICAgI3NldCgkY29tcGFueSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdjb21wYW55JykpDQogICAgI3NldCgkdXJsID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3VybCcpKQ0KICAgICNzZXQoJGVtYWlsID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2VtYWlsJykpDQogICAgI3NldCgkYW5kcm9pZGFwcGlkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2FuZHJvaWRhcHBpZCcpKQ0KICAgICNzZXQoJG1vYmlsZXVybCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdtb2JpbGV1cmwnKSkNCiAgICAjc2V0KCRzdGF0dXN0ZXh0aXNkYXJrID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3N0YXR1c3RleHRpc2RhcmsnKSkNCiAgICAjc2V0KCR1cmxzY2hlbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndXJsc2NoZW1lJykpDQogICAgI3NldCgkaWNvbmZpbGVuYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ljb25maWxlbmFtZScpKQ0KICAgICNzZXQoJHNwbGFzaHNjcmVlbmZpbGVuYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3NwbGFzaHNjcmVlbmZpbGVuYW1lJykpDQogICAgI3NldCgkdXBsb2FkY29udGV4dCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd1cGxvYWRjb250ZXh0JykpDQoNCiAgICAjc2V0KCRvcHRpb25zID0gIiV7fSIpDQogICAgDQogICAgI2lmICgkaWQgJiYgJGlkLlRyaW0oKS5MZW5ndGggPiAwKQ0KICAgICAgICAkb3B0aW9ucy5BZGQoJ0lkJywgJGlkKQ0KICAgICNlbmQNCiAgICANCiAgICAjaWYoJG5hbWUgJiYgJG5hbWUuVHJpbSgpLkxlbmd0aCA+IDApDQogICAgICAgICRvcHRpb25zLkFkZCgnTmFtZScsICRuYW1lKQ0KICAgICNlbmQNCiAgICANCiAgICAjaWYgKCRkZXNjcmlwdGlvbiAmJiAkZGVzY3JpcHRpb24uVHJpbSgpLkxlbmd0aCA+IDApDQogICAgICAgICRvcHRpb25zLkFkZCgnRGVzY3JpcHRpb24nLCAkZGVzY3JpcHRpb24pDQogICAgI2VuZA0KICAgIA0KICAgICNpZiAoJGNvbXBhbnkgJiYgJGNvbXBhbnkuVHJpbSgpLkxlbmd0aCA+IDApDQogICAgICAgICRvcHRpb25zLkFkZCgnQ29tcGFueScsICRjb21wYW55KQ0KICAgICNlbmQNCiAgICANCiAgICAjaWYoJHVybCAmJiAkdXJsLlRyaW0oKS5MZW5ndGggPiAwKQ0KICAgICAgICAkb3B0aW9ucy5BZGQoJ1VybCcsICR1cmwpDQogICAgI2VuZA0KICAgIA0KICAgICNpZigkZW1haWwgJiYgJGVtYWlsLlRyaW0oKS5MZW5ndGggPiAwKQ0KICAgICAgICAkb3B0aW9ucy5BZGQoJ0VtYWlsJywgJGVtYWlsKQ0KICAgICNlbmQNCiAgICANCiAgICAjaWYgKCR1cGxvYWRjb250ZXh0ICYmICR1cGxvYWRjb250ZXh0LlRyaW0oKS5MZW5ndGggPiAwKQ0KICAgICAgICAkb3B0aW9ucy5BZGQoJ0ZpbGVVcGxvYWRDb250ZXh0JywgJHVwbG9hZGNvbnRleHQpDQogICAgI2VuZA0KICAgIA0KICAgICNpZiAoJGljb25maWxlbmFtZSAmJiAkaWNvbmZpbGVuYW1lLlRyaW0oKS5MZW5ndGggPiAwKQ0KICAgICAgICAkb3B0aW9ucy5BZGQoJ0ljb25GaWxlTmFtZScsICRpY29uZmlsZW5hbWUpDQogICAgI2VuZA0KICAgIA0KICAgICNpZiAoJHNwbGFzaHNjcmVlbmZpbGVuYW1lICYmICRzcGxhc2hzY3JlZW5maWxlbmFtZS5UcmltKCkuTGVuZ3RoID4gMCkNCiAgICAgICAgJG9wdGlvbnMuQWRkKCdTcGxhc2hzY3JlZW5GaWxlTmFtZScsICRzcGxhc2hzY3JlZW5maWxlbmFtZSkNCiAgICAjZW5kDQogICAgDQogICAgI2lmKCR1cmxzY2hlbWUgJiYgJHVybHNjaGVtZS5UcmltKCkuTGVuZ3RoID4gMCkNCiAgICAgICAgJG9wdGlvbnMuQWRkKCdVcmxTY2hlbWUnLCAkdXJsc2NoZW1lKQ0KICAgICNlbmQNCiAgICANCiAgICAjaWYoJGFuZHJvaWRhcHBpZCAmJiAkYW5kcm9pZGFwcGlkLlRyaW0oKS5MZW5ndGggPiAwKQ0KICAgICAgICAkb3B0aW9ucy5BZGQoJ0FuZHJvaWRBcHBJZCcsICRhbmRyb2lkYXBwaWQpDQogICAgI2VuZA0KICAgIA0KICAgICNpZigkbW9iaWxldXJsICYmICRtb2JpbGV1cmwuVHJpbSgpLkxlbmd0aCA+IDApDQogICAgICAgICRvcHRpb25zLkFkZCgnTW9iaWxlVXJsJywgJG1vYmlsZXVybCkNCiAgICAjZW5kDQogICAgDQogICAgI2lmKCRzdGF0dXN0ZXh0aXNkYXJrICYmICRzdGF0dXN0ZXh0aXNkYXJrLlRyaW0oKS5MZW5ndGggPiAwKQ0KICAgICAgICAkb3B0aW9ucy5BZGQoJ1N0YXR1c1RleHRJc0RhcmsnLCAkc3RhdHVzdGV4dGlzZGFyaykNCiAgICAjZW5kDQogICAgDQogICAgJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQogICAgDQogICAgI3NldCgkcmVzdWx0ID0gJHRlbGxpZ2VudF92Ml9tb2JpbGVQYWNrYWdlLkNyZWF0ZSgkb3B0aW9ucykpDQogICAgI2lmICgkcmVzdWx0LkVycm9ycy5Db3VudCA+IDApDQogICAgICAgICRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcmVzdWx0LkVycm9ycykNCiAgICAjZWxzZQ0KICAgICAgICB7ImRvd25sb2FkVXJsIjogIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJlc3VsdC5VcmwpIn0NCiAgICAjZW5kDQojZW5k</file><file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBjcmVhdGUgPSBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQoJCQkJdXJsOiBjb250ZXh0LmNyZWF0ZVVybCwNCgkJCQlkYXRhOiB7IA0KCQkJCSAgICBpZDogY29udGV4dC5wYWNrYWdlX2lkLnZhbCgpLA0KCQkJCSAgICBuYW1lOiBjb250ZXh0LnBhY2thZ2VfbmFtZS52YWwoKSwNCgkJCQkgICAgZGVzY3JpcHRpb246IGNvbnRleHQucGFja2FnZV9kZXNjcmlwdGlvbi52YWwoKSwNCgkJCQkgICAgY29tcGFueTogY29udGV4dC5wYWNrYWdlX2NvbXBhbnkudmFsKCksDQoJCQkJICAgIHVybDogY29udGV4dC5wYWNrYWdlX3VybC52YWwoKSwNCgkJCQkgICAgZW1haWw6IGNvbnRleHQucGFja2FnZV9lbWFpbC52YWwoKSwNCgkJCQkgICAgYW5kcm9pZGFwcGlkOiBjb250ZXh0LnBhY2thZ2VfYW5kcm9pZGFwcGlkLnZhbCgpLA0KCQkJCSAgICBtb2JpbGV1cmw6IGNvbnRleHQucGFja2FnZV9tb2JpbGV1cmwudmFsKCksDQoJCQkJICAgIHVybHNjaGVtZTogY29udGV4dC5wYWNrYWdlX3VybHNjaGVtZS52YWwoKSwNCgkJCQkgICAgc3RhdHVzdGV4dGlzZGFyazogY29udGV4dC5wYWNrYWdlX3N0YXR1c3RleHRpc2RhcmsuaXMoJzpjaGVja2VkJykgPyB0cnVlIDogZmFsc2UsDQoJCQkJICAgIHNwbGFzaHNjcmVlbmZpbGVuYW1lOiBjb250ZXh0LnNwbGFzaHNjcmVlbkZpbGVOYW1lLA0KCQkJCSAgICBpY29uZmlsZW5hbWU6IGNvbnRleHQuaWNvbkZpbGVOYW1lLA0KCQkJCSAgICB1cGxvYWRjb250ZXh0OiBjb250ZXh0LnVwbG9hZENvbnRleHRJZA0KCQkJCX0sDQoJCQkJZGF0YVR5cGU6ICdqc29uJw0KCQkJfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkgew0KCQkJCQl3aW5kb3cubG9jYXRpb24gPSByZXNwb25zZS5kb3dubG9hZFVybDsNCgkJCQkJY29udGV4dC5zdWJtaXQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCSQoJy5wcm9jZXNzaW5nJywgY29udGV4dC5zdWJtaXQucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCgkJCQl9LCBmdW5jdGlvbigpIHsNCgkJCQkgICAgY29udGV4dC5zdWJtaXQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJICAgICQoJy5wcm9jZXNzaW5nJywgY29udGV4dC5zdWJtaXQucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCgkJCQl9KTsNCgkJfTsNCg0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLm1vYmlsZVBhY2thZ2VCdWlsZGVyID0NCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCSAgICBjb250ZXh0Lmljb25GaWxlTmFtZSA9ICcnOw0KCQkgICAgY29udGV4dC5zcGxhc2hzY3JlZW5GaWxlTmFtZSA9ICcnOw0KCQkgICAgDQoJCQkkKGNvbnRleHQucGFja2FnZV9pY29uKS5nbG93VXBsb2FkKHsNCgkJCQlmaWxlRmlsdGVyOiBbIHt0aXRsZTogJ0ltYWdlIEZpbGVzJywgZXh0ZW5zaW9uczogJ3BuZyxnaWYsanBnLGpwZWcnIH0gXSwNCgkJCQl1cGxvYWRVcmw6IGNvbnRleHQudXBsb2FkRmlsZVVybA0KCQkJfSkNCgkJCS5iaW5kKCdnbG93VXBsb2FkQ29tcGxldGUnLCBmdW5jdGlvbihlLCBmaWxlKQ0KCQkJCXsNCgkJCQkJaWYgKGZpbGUgJiYgZmlsZS5uYW1lLmxlbmd0aCA+IDApDQoJCQkJCXsNCgkJCQkJCWNvbnRleHQuaWNvbkZpbGVOYW1lID0gZmlsZS5uYW1lOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQkJDQoJCQkkKGNvbnRleHQucGFja2FnZV9zcGxhc2hzY3JlZW4pLmdsb3dVcGxvYWQoew0KCQkJCWZpbGVGaWx0ZXI6IFsge3RpdGxlOiAnSW1hZ2UgRmlsZXMnLCBleHRlbnNpb25zOiAncG5nLGdpZixqcGcsanBlZycgfSBdLA0KCQkJCXVwbG9hZFVybDogY29udGV4dC51cGxvYWRGaWxlVXJsDQoJCQl9KQ0KCQkJLmJpbmQoJ2dsb3dVcGxvYWRDb21wbGV0ZScsIGZ1bmN0aW9uKGUsIGZpbGUpDQoJCQkJew0KCQkJCQlpZiAoZmlsZSAmJiBmaWxlLm5hbWUubGVuZ3RoID4gMCkNCgkJCQkJew0KCQkJCQkJY29udGV4dC5zcGxhc2hzY3JlZW5GaWxlTmFtZSA9IGZpbGUubmFtZTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQkJCQ0KCQkJY29udGV4dC5zdWJtaXQuZXZvbHV0aW9uVmFsaWRhdGlvbiggew0KCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7DQoJCQkJCWlmIChpc1ZhbGlkKSB7DQoJCQkJCQljb250ZXh0LnN1Ym1pdC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCWNvbnRleHQuc3VibWl0LmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQl9DQoJCQkJfSwNCgkJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgew0KCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuc3VibWl0LnBhcmVudCgpKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOw0KCQkJCQljb250ZXh0LnN1Ym1pdC5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJY3JlYXRlKGNvbnRleHQpOw0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfSk7DQoJCQkNCgkJCWNvbnRleHQuc3VibWl0LmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgY29udGV4dC5wYWNrYWdlX2lkLCB7DQoJCQkJcmVxdWlyZWQ6IHRydWUNCgkJCX0sICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5pZCAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywgbnVsbCk7DQoJCQkNCgkJCWNvbnRleHQuc3VibWl0LmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgY29udGV4dC5wYWNrYWdlX25hbWUsIHsNCgkJCQlyZXF1aXJlZDogdHJ1ZQ0KCQkJfSwgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLm5hbWUgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwpOw0KCQkJDQoJCQljb250ZXh0LnN1Ym1pdC5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsIGNvbnRleHQucGFja2FnZV9kZXNjcmlwdGlvbiwgew0KCQkJCXJlcXVpcmVkOiB0cnVlDQoJCQl9LCAnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmZpZWxkLWl0ZW0uZGVzY3JpcHRpb24gLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwpOw0KCQkJDQoJCQljb250ZXh0LnN1Ym1pdC5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsIGNvbnRleHQucGFja2FnZV9jb21wYW55LCB7DQoJCQkJcmVxdWlyZWQ6IHRydWUNCgkJCX0sICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5jb21wYW55IC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkJCQ0KCQkJY29udGV4dC5zdWJtaXQuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCBjb250ZXh0LnBhY2thZ2VfdXJsLCB7DQoJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJdXJsOiB0cnVlDQoJCQl9LCAnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmZpZWxkLWl0ZW0udXJsIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkJCQ0KCQkJY29udGV4dC5zdWJtaXQuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCBjb250ZXh0LnBhY2thZ2VfZW1haWwsIHsNCgkJCQlyZXF1aXJlZDogdHJ1ZSwNCgkJCQllbWFpbDogdHJ1ZQ0KCQkJfSwgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLmVtYWlsIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkJCQ0KCQkJY29udGV4dC5zdWJtaXQuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCBjb250ZXh0LnBhY2thZ2VfbW9iaWxldXJsLCB7DQoJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJdXJsOiB0cnVlDQoJCQl9LCAnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmZpZWxkLWl0ZW0ubW9iaWxldXJsIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkJCQ0KCQkJdmFyIHVybHNjaGVtZVZhbGlkYXRpb24gPSBjb250ZXh0LnN1Ym1pdC5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRDdXN0b21WYWxpZGF0aW9uJywgY29udGV4dC5wYWNrYWdlX3VybHNjaGVtZSwgZnVuY3Rpb24oKSB7DQoJCQkgICAgdmFyIHYgPSBjb250ZXh0LnBhY2thZ2VfdXJsc2NoZW1lLnZhbCgpOw0KCQkJICAgIGlmICghdiB8fCB2Lmxlbmd0aCA9PSAwKSB7DQoJCQkgICAgICAgIHJldHVybiBmYWxzZTsNCgkJCSAgICB9DQoJCQkgICAgcmV0dXJuIC9eW2Etel0qJC8udGVzdCh2KTsNCgkJCX0sICdSZXF1aXJlcyBhIHVuaXF1ZSBhbHBoYWJldGljIHZhbHVlIChubyB1cHBlcmNhc2UgbGV0dGVycywgbm8gcHVuY3R1YXRpb24sIG5vIHNwYWNlcyknLCAnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmZpZWxkLWl0ZW0udXJsc2NoZW1lIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkJCQ0KCQkJY29udGV4dC5wYWNrYWdlX3VybHNjaGVtZS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7DQoJCQkgICAgdXJsc2NoZW1lVmFsaWRhdGlvbigpOw0KCQkJfSk7DQoJCQkNCgkJCWNvbnRleHQucGFja2FnZV9pZC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7DQoJCQkgICAgaWYgKGNvbnRleHQucGFja2FnZV91cmxzY2hlbWUudmFsKCkgPT0gJycgJiYgY29udGV4dC5wYWNrYWdlX2lkLnZhbCgpICE9ICcnKSB7DQoJCQkgICAgICAgIGNvbnRleHQucGFja2FnZV91cmxzY2hlbWUudmFsKGNvbnRleHQucGFja2FnZV9pZC52YWwoKS5yZXBsYWNlKC9bXmEtel0vZywgJycpKTsNCgkJCSAgICAgICAgdXJsc2NoZW1lVmFsaWRhdGlvbigpOw0KCQkJICAgIH0NCgkJCX0pOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7</file></files></scriptedContentFragment></scriptedContentFragments>